---
// Import our layout template
import Layout from "../../layouts/Layout.astro";

// Get all the markdown files in this folder (our blog posts)
const posts = await Astro.glob("./*.md");
---

<Layout title="Blog">
	<div class="blog-content">
		<h1>Blog</h1>
		<p class="blog-intro">
			Welcome to our blog! Here you'll find articles written in Markdown.
		</p>

		<!-- This creates a card for each blog post -->
		<div class="posts-grid">
			{
				posts.map((post) => (
					<article class="post-card">
						<h2>
							<a href={post.url}>{post.frontmatter.title}</a>
						</h2>
						<div class="post-meta">
							Published on {post.frontmatter.date}
						</div>
						<p class="post-excerpt">{post.frontmatter.excerpt}</p>
						<a href={post.url} class="read-more">
							Read more â†’
						</a>
					</article>
				))
			}
		</div>
	</div>
</Layout>
<style>
	/* Simple styles for blog page using CSS variables */
	.blog-content {
		padding: var(--space-large) 0;
	}

	.blog-content h1 {
		font-size: var(--font-size-xlarge);
		margin-bottom: var(--space-large);
	}

	.blog-intro {
		margin-bottom: var(--space-xlarge);
		color: var(--color-text-light);
	}

	.posts-grid {
		display: grid;
		gap: var(--space-large);
	}

	.post-card {
		border: 1px solid var(--color-border);
		padding: var(--space-large);
	}

	.post-card h2 {
		margin-bottom: var(--space-medium);
	}

	.post-card h2 a {
		color: var(--color-text);
		text-decoration: none;
	}

	.post-card h2 a:hover {
		text-decoration: underline;
	}

	.post-meta {
		color: var(--color-text-light);
		font-size: 0.9rem;
		margin-bottom: var(--space-medium);
	}

	.post-excerpt {
		color: var(--color-text);
		line-height: var(--line-height);
	}

	.read-more {
		color: var(--color-text);
		text-decoration: none;
	}

	.read-more:hover {
		text-decoration: underline;
	}
</style>
